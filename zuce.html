<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width = device-width,initial-scale = 1,user-scalable = 0 ">
		<title></title>
		<link rel="stylesheet" href="css/weui.css" />
		<link rel="stylesheet" href="//at.alicdn.com/t/font_788227_t8z6o1y045c.css" />
		<style type="text/css">
			.zl:after{
				border: none;
			}
			#dx label{
				width: 50px;
				text-align: center;
				margin-right: 20px;
			}
			.bk{
				border:1px solid orangered;
			}
			input::-webkit-input-placeholder{text-align: center;}
			input::-ms-input-placeholder{text-align: center;}
			#xx .weui-cell__ft i{
				float: left;
				display: none;
			}
			#xx .weui-cell__ft i:nth-child(1){
				line-height: 20px;
			}
			#xx .weui-cell__ft i:not(:first-child){
				margin-left: 10px;
			}
			.ts{
				background: red;
				color: #fff;
				text-align: center;
				height: 50px;
				line-height: 50px;
				font-size: 16px;
				position:fixed;
				top: -50px;
				left: 0;
				width: 100%;
				/*display: none;*/
			}
		</style>
	</head>
	<body ontouchstart="">
		<script type="text/javascript" src="js/weui.min.js"></script>
		<script type="text/javascript" src="js/zepto.min.js"></script>
		<div class="weui-cell" style="background: #353535;">
			<a class="weui-cell__hd" style="color: #fff;" href="login.html">
				<i class="iconfont icon-fanhui"></i>返回
			</a>
			<div class="weui-cell__bd" style="text-align: center;color: #fff;">学生注册</div>
			<div class="weui-cell__ft" style="visibility:hidden;">
				<i class="iconfont icon-fanhui"></i>返回
			</div>
		</div>
		<div class="weui-panel" style="background: #eee;margin-top: 0;padding-bottom: 20px;">
			<div class="weui-panel__hd zl" style="text-align: center;font-size: 16px;">
				以下资料需要审核，请认证填写！
			</div>
			<div class="weui-panel__bd">
				<div class="weui-cell" style="padding: 0 5px;border: none;">
					<div class="weui-cell__hd" style="border: none;">
						<div style="float: left;">
							<span class="weui-badge" style="background: green;">1</span>
						</div>
						<div class="" style="float: left;margin:3px 0 0 5px;">
							<p>基本信息</p>
							<p>第一步</p>
						</div>
					</div>
					<div class="weui-cell__bd" style="border-top:1px solid #aaa;height: 25px;margin: 0 8px;"></div>
					<div class="weui-cell__ft">
						<div style="float: left;">
							<span class="weui-badge" style="background: #fff;border: 1px solid #000;color: #000;">2</span>
						</div>
						<div style="float: left;margin:3px 0 0 5px">
							<p>基本信息</p>
							<p style="text-align: left;">第二步</p>
						</div>
					</div>
				</div>
			</div>
		</div>
		<!--注册信息-->
		<div class="weui-cells" style="margin-top: 0;" id="xx">
			<div class="weui-cell weui-cells_form" id="phone">
				<div class="weui-cell__hd">
					<label class="weui-label">手机号:</label>
				</div>
				<div class="weui-cell__bd">
					<input class="weui-input" type="tel" placeholder="输入11位手机号">
				</div>
				<div class="weui-cell__ft">
					<i class="weui-icon-clear fh"></i>
					<i class="weui-icon-warn fh"></i>
					<i class="weui-icon-success fh"></i>
				</div>
			</div>
			<div class="weui-cell weui-cells_form" id="yx">
				<div class="weui-cell__hd">
					<label class="weui-label">Email:</label>
				</div>
				<div class="weui-cell__bd">
					<input class="weui-input" type="tel" placeholder="QQ邮箱或其他常用邮箱">
				</div>
				<div class="weui-cell__ft">
					<i class="weui-icon-clear fh"></i>
					<i class="weui-icon-warn fh"></i>
					<i class="weui-icon-success fh"></i>
				</div>
			</div>
			<div class="weui-cell weui-cells_form" id="name">
				<div class="weui-cell__hd">
					<label class="weui-label">真实姓名:</label>
				</div>
				<div class="weui-cell__bd">
					<input class="weui-input" type="tel" placeholder="真实姓名">
				</div>
				<div class="weui-cell__ft">
					<i class="weui-icon-clear fh"></i>
					<i class="weui-icon-warn fh"></i>
					<i class="weui-icon-success fh"></i>
				</div>
			</div>
			<div class="weui-cell weui-cells_form" id="pass">
				<div class="weui-cell__hd">
					<label class="weui-label">登录密码:</label>
				</div>
				<div class="weui-cell__bd">
					<input class="weui-input" type="password" placeholder="设置六位以上的密码">
				</div>
				<div class="weui-cell__ft">
					<i class="weui-icon-clear fh"></i>
					<i class="weui-icon-warn fh"></i>
					<i class="weui-icon-success fh"></i>
				</div>
			</div>
			<div class="weui-cell">
				<div class="weui-cell__hd">
					<label class="weui-label">性别:</label>
				</div>
				<div class="weui-cell__bd weui-cells_radio" id="dx">
					<div class="weui-cell" style="padding-left: 0;">
						<label for="x11" class="weui-check__label bk">
					        <p>男</p>
					        <input type="radio" name="radio1" class="weui-check" id="x11" checked="checked">
						</label>
						<label class="weui-check__label" for="x12">
					        <p>女</p>
					        <input type="radio" class="weui-check" name="radio1" id="x12">
					    </label>
				    </div>
				</div>
			</div>
		    <div class="weui-cell" style="border-bottom: 1px solid #e5e5e5;">
				<button id="tj" class="weui-btn weui-btn_disabled weui-btn_primary">下一步</button>
			</div>
		</div>
		<div class="ts"></div>
	</body>
	<script>
		$(function(){
			var count1,count2,count3,count4;
			var preg=/^1[3,5,9]\d{9}$/;
			var yreg=/^[a-zA-Z0-9_.-]+@[a-zA-Z0-9-]+(\.[a-zA-Z0-9-]+)*\.[a-zA-Z0-9]{2,6}$/;
			var xreg=/^[\u4E00-\u9FA5A-Za-z]+$/;
			var mreg=/^\w{6,}$/;
			//验证手机
			function yzsj(){
				var txt=$("#phone input").val();
				count1=0;
				if(preg.test(txt)){
					$("#phone .fh").eq(2).show().siblings().hide();
					$("#phone .weui-label").css("color","#000");
					count1=1;
				}else{
					$("#phone .weui-label").css("color","red");
					$(".ts").text("手机格式不对");
					$(".ts").css({
					"transform":"translateY(50px)",
					"transition":"all 1s"
					})
					setTimeout(function(){
						$(".ts").css({
						"transform":"translateY(0px)",
						"transition":"all 1s"
						})
					},3000)
					
					if(txt==""||txt==null){
						$("#phone .fh").eq(1).show().siblings().hide();
					}else{
						$("#phone .fh").eq(2).hide().siblings().show();
					}
				}
			}
			//验证邮箱
			function yzyx(){
				var txt=$("#yx input").val();
				count2=0;
				if(yreg.test(txt)){
					$("#yx .fh").eq(2).show().siblings().hide();
					$("#yx .weui-label").css("color","#000");
					count2=1;
				}else{
					$("#yx .weui-label").css("color","red");
					$(".ts").text("邮箱格式不对");
					$(".ts").css({
					"transform":"translateY(50px)",
					"transition":"all 1s"
					})
					setTimeout(function(){
						$(".ts").css({
						"transform":"translateY(0px)",
						"transition":"all 1s"
						})
					},5000)
					
					if(txt==""||txt==null){
						$("#yx .fh").eq(1).show().siblings().hide();
					}else{
						$("#yx .fh").eq(2).hide().siblings().show();
					}
				}
			}
			//验证姓名
			function yzxm(){
				var txt=$("#name input").val();
				count3=0;
				if(xreg.test(txt)){
					$("#name .fh").eq(2).show().siblings().hide();
					$("#name .weui-label").css("color","#000");
					count3=1;
				}else{
					$("#name .weui-label").css("color","red");
					$(".ts").text("姓名格式不对");
					$(".ts").css({
					"transform":"translateY(50px)",
					"transition":"all 1s"
					})
					setTimeout(function(){
						$(".ts").css({
						"transform":"translateY(0px)",
						"transition":"all 1s"
						})
					},3000)
					
					if(txt==""||txt==null){
						$("#name .fh").eq(1).show().siblings().hide();
					}else{
						$("#name .fh").eq(2).hide().siblings().show();
					}
				}
			}
			//验证密码
			function yzmm(){
				var txt=$("#pass input").val();
				count4=0;
				if(mreg.test(txt)){
					$("#pass .fh").eq(2).show().siblings().hide();
					$("#pass .weui-label").css("color","#000");
					count4=1;
				}else{
					$("#pass .weui-label").css("color","red");
					$(".ts").text("密码格式不对");
					$(".ts").css({
					"transform":"translateY(50px)",
					"transition":"all 1s"
					})
					setTimeout(function(){
						$(".ts").css({
						"transform":"translateY(0px)",
						"transition":"all 1s"
						})
					},3000)
					
					if(txt==""||txt==null){
						$("#pass .fh").eq(1).show().siblings().hide();
					}else{
						$("#pass .fh").eq(2).hide().siblings().show();
					}
				}
			}
			$("#phone input").on({
				"focus":function(){
					$("#phone .fh").eq(2).hide().siblings().show();
				},"blur":yzsj
			})
			$("#yx input").on({
				"focus":function(){
					$("#yx .fh").eq(2).hide().siblings().show();
				},"blur":yzyx
			})
			$("#name input").on({
				"focus":function(){
					$("#name .fh").eq(2).hide().siblings().show();
				},"blur":yzxm
			})
			$("#pass input").on({
				"focus":function(){
					$("#pass .fh").eq(2).hide().siblings().show();
				},"blur":yzmm
			})
			var clea=$(".weui-icon-clear");
			for(var i=0;i<clea.length;i++){
				clea[i].index=i;
				clea[i].onclick=function(){
					$(".weui-input").eq(this.index).val("");
					clea[this.index].style.display="none";
				}
			}
			
			$(window).click(function(){
				if(count1==1&&count2==1&&count3==1&&count4==1){
					$("#tj").removeClass("weui-btn_disabled");
				}else{
					$("#tj").addClass("weui-btn_disabled");
				}
			})
			$(".weui-check__label").click(function(){
				$(this).addClass("bk").siblings().removeClass("bk");
			})
		
			$("#tj").click(function(){
				if(!$("#tj").hasClass("weui-btn_disabled")){
					sessionStorage.setItem("phone",$("#phone input").val());
					sessionStorage.setItem("email",$("#yx input").val());
					sessionStorage.setItem("name",$("#name input").val());
					sessionStorage.setItem("password",$("#pass input").val());
					open("student.html","_self");
				}
			})
		})
	</script>
</html>
